<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="hejixd Fitness - Transform your fitness journey with expert workout plans and top-quality supplements.">
  <meta name="keywords" content="fitness, hejixd, workout plans, supplements, HTLT, pre-workout, training">
  <meta name="author" content="hejixd">
  <title>hejixd Fitness</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  
  <header>
    <nav>
    <h1><a href="index.html">hejixd</a></h1>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="https://www.tiktok.com/@hejixd" target="_blank">TikTok</a></li>
        <li><a href="https://www.instagram.com/hejixd" target="_blank">Instagram</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <button id="login-btn">Login with Google</button>
    <button id="logout-btn" style="display:none;">Logout</button>

    <section class="hero">
      <h2>Craft Your Fitness Journey</h2>
      <p>Explore workout plans, supplements, and more.</p>
    </section>

     <!-- ======= Hero Video Section ======= -->
     <section class="hero-video-container">
        <video
          id="heroVideo" 
          src="images/edit.MOV"  
          autoplay                      
          muted             
          playsinline       
          poster="images/hero-video-poster.jpg" 
        >
          Your browser does not support the video tag. 
        </video>
      </section>
      <!-- ======= End Hero Video Section ======= -->

     <!-- ======= About Section ======= -->
  <section class="about-me" style="background-color: #1E1E1E; padding: 40px 20px; margin-bottom: 40px; border-radius: 5px; text-align: center;">
    <div style="max-width: 700px; margin: 0 auto;"> <!-- Container for centering -->
      <h2>Meet hejixd</h2>
      <!-- Optional: Add an image of yourself -->


      <p style="margin-bottom: 15px;">
        Hey! I'm hejixd. My fitness journey started back in high school, 
        juggling football and track. This meant exploring everything from pure athletic conditioning 
        to more traditional bodybuilding styles.
      </p>
      <p style="margin-bottom: 15px;">
        I was always searching for the 'best' way to train. 
        the biggest lesson I learned is this: the most effective training is the one tailored to 
        <strong>your specific goals</strong> - whether that's peak athletic performance, 
        building an aesthetic physique, or finding that powerful hybrid sweet spot.
      </p>
      <p>
        For now since most of my content is geared towards bodybuilding,
        I want to help you build a physique that you can be proud of. Check it, 
        if you want tips for more hybrid stuff DM me I can help you with that too.
      </p>
    </div>
  </section>
  <!-- ======= End About Section ======= -->

    <section class="products">
        <h2>Products</h2>
        <div class="product-list">
            <div class="product-item">
                <img src="images/side_chest.jpg" alt="Hejixd Workout Plan PDF" />
                <h3>Workout Plan PDF</h3>
                <p>$19.99</p>
                <script src="https://gumroad.com/js/gumroad.js"></script>
                <a class="btn" href="https://malloyrichard.gumroad.com/l/tgsxy" 
                data-gumroad-overlay-checkout="true">Buy on</a>
            </div>
          
          <div class="product-item">
            <img src="images/stim.png" alt="HTLT Supplement" />
            <h3>HTLT Pre-Workout</h3>
            <p>Use code <strong>HEJI</strong> for 10% off</p>
            <a href="https://www.htltsupps.com" target="_blank" class="btn">Shop HTLT</a>
          </div>
        </div>
      </section>


      

      <section class="contact">
        <h2>DM for 1:1 Coaching or Custom Plans</h2>
        <p>Tiktok <a href="https://www.tiktok.com/@hejixd" target="_blank">@hejixd</a> </br>Instagram <a href="https://www.instagram.com/hejixd" target="_blank">@hejixd</a></p>
      </section>

            <script>
              // Wait for the HTML document to be fully loaded
              document.addEventListener('DOMContentLoaded', () => {
      
                // --- Video Grayscale Logic ---
                const videoElement = document.getElementById('heroVideo');
                if (videoElement) {
                  videoElement.addEventListener('ended', () => {
                    videoElement.classList.add('video-ended-grayscale');
                  });
                } else {
                  console.warn('Video element with ID "heroVideo" not found.');
                }
      
                // --- Supabase Auth Logic ---
      
                // Check if supabaseClient was initialized correctly
                if (typeof supabaseClient === 'undefined') {
                    console.error("Supabase client (supabaseClient) is not defined. Check initialization.");
                    return; // Stop if Supabase isn't ready
                }
      
                // Get button elements using CORRECT IDs
                const loginBtn = document.getElementById('login-btn');
                const logoutBtn = document.getElementById('logout-btn');
      
                // Check if buttons exist before adding listeners
                if (!loginBtn || !logoutBtn) {
                    console.error("Login or Logout button not found. Check HTML IDs.");
                    return; // Stop if buttons aren't found
                }
      
                // --- Event Handlers ---
      
                // Handle Login
                loginBtn.addEventListener('click', async () => {
                  console.log('Login button clicked'); // Debugging
                  const { error } = await supabaseClient.auth.signInWithOAuth({
                       provider: 'google',
                       options: {
                          // IMPORTANT: Add your redirect URL here if needed for deployment
                          // redirectTo: window.location.origin // Example: redirects back to base URL
                       }
                  });
                  if (error) {
                      console.error('Login error:', error.message);
                      alert(`Login failed: ${error.message}`); // Show error to user
                  }
                });
      
                // Handle Logout
                logoutBtn.addEventListener('click', async () => {
                  console.log('Logout button clicked'); // Debugging
                  const { error } = await supabaseClient.auth.signOut();
                  if (error) {
                      console.error('Logout error:', error.message);
                       alert(`Logout failed: ${error.message}`); // Show error to user
                  } else {
                      // Optionally clear user state or redirect
                      // Refreshing might be enough if session check runs on load
                      console.log('Logout successful, reloading...');
                      window.location.reload(); // Reload to update UI based on session state
                  }
                });
      
      
                // --- Initial UI setup based on Session ---
      
                // Function to update button visibility
                const updateAuthButtons = (session) => {
                    if (session) {
                        console.log('User is logged in:', session.user.email);
                        loginBtn.style.display = 'none';
                        logoutBtn.style.display = 'block';
                    } else {
                        console.log('User is logged out.');
                        loginBtn.style.display = 'block';
                        logoutBtn.style.display = 'none';
                    }
                };
      
                // Check initial session state
                supabaseClient.auth.getSession().then(({ data: { session } }) => {
                    updateAuthButtons(session);
                }).catch(error => {
                    console.error("Error getting initial session:", error);
                });
      
                // Listen for changes in authentication state (e.g., after redirect)
                supabaseClient.auth.onAuthStateChange((_event, session) => {
                    console.log('Auth state changed:', _event, session);
                    updateAuthButtons(session);
                });
      
              }); // End of DOMContentLoaded
            </script>
  </main>

  <footer>
    <p>&copy; 2025 hejixd Fitness. All rights reserved.</p>
    
  </footer>
</body>
</html>
